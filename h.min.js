const a="children";function u(e,t={},n){if("function"==typeof e)return E(e,{...t,[a]:n});const r="string"==typeof e?document.createElement(e):e;return Object.entries(t||{}).forEach(([n,e])=>{0===n.indexOf("on")?r.addEventListener(n.substring(2).toLowerCase(),e):"style"===n?Object.entries(e).forEach(([e,t])=>{r[n][e]=t}):"ref"===n?e&&e(r):0===n.indexOf("data-")?r.dataset[n.substring(5)]=e:n===a||(r[n]=e)}),r.append(...[].concat(n).filter(e=>null!=e).map(l).flat()),r}var e=(t,n,r)=>e=>u(t,e||n||{},r),t=e=>e[a];const l=e=>"function"==typeof e?e():e;let s,i=0,f,v;const r=(n,e)=>!n||e.some((e,t)=>e!==n[t]),o=e=>{let t=s[i++];return t||(t={value:e},s.push(t)),t},n=(t,e)=>{const n=o(e),r=f;return[n.value,e=>{n.value=t(n.value,e),r()}]};var c=e=>n((e,t)=>t,e);const d=(e,t=[])=>{const n=o();r(n.value,t)&&(n.value=t,n.cb=e)},m=(e,t=[])=>{const n=o();return r(n.value,t)&&(n.value=t,n.memo=e()),n.memo};var _=(e,t)=>m(()=>e,t),p=()=>{function t(e){t.current=e}return t.current=null,t},h=o=>{const c={Provider:function({value:e,tag:t="div",...n}){const r=u(t,{"data-type":"provider"},n[a]);return r._context=c,r._value={...o,...e},r},Consumer:function(e){var t=b(c);return e[a][0](t)}};return c};const b=t=>{const n=v;if(n._value){var e=n._value;return n._value=null,e}const r=f;return d(()=>{let e=n;for(;e=e.parentNode;)if(e._context===t)return n._value=e._value,void r()}),{}};let y=0;const E=(r,o)=>{let c;const u=document.createComment(""+y++);var e,t;return o[a]=[o[a]].flat(),e=function e(){i=0,s=u._hs||[],f=e,v=u,c=[].concat(r(o)).filter(e=>null!=e).map(l).flat(),u._cs&&u._cs.forEach(e=>e.remove()),u._cs=c,u.after(...u._cs),u._hs=s;let t=0;const n=()=>{if(!u.isConnected||!u.parentNode)return t++<5?window.requestAnimationFrame(n):console.error("cycle detected in",u);u._hs.forEach(e=>{const t=e.cb;e.cb=null,t&&t()})};n()},t=[s,f,v],e(),s=t[0],f=t[1],v=t[2],[u,...c]};export{u as render,e as h,t as Fragment,n as useReducer,c as useState,d as useEffect,m as useMemo,_ as useCallback,p as useRef,h as createContext,b as useContext};
